(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"3y+j":function(e,t,n){},"BA/U":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var c=function onKeyDownSubmit(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){(function isEnter(e){return"Enter"===e.key||13===e.keyCode}(n)||t&&function isSpace(e){return"Space"===e.key||32===e.keyCode}(n))&&(n.preventDefault(),e())}}},BY8A:function(e,t,n){"use strict";var c=n("s8DI"),a=n("QtlZ"),r=n("Hvhg"),o=n("ERkP"),i=n.n(o),s=n("rTkt");n("zoZM");t.a=function ThemeStyleSheets(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),n=t[0],u=t[1],l=Object(r.b)(Object(a.b)());return Object(o.useEffect)(function(){n||(Object(s.a)(l),Object(s.b)(l),u(!0))},[l,n]),i.a.createElement("div",{className:"drift-widget-preload-fonts","aria-hidden":"true"},i.a.createElement("span",null,"A"),i.a.createElement("strong",null,"B"))}},NJR1:function(e,t,n){},"ab+K":function(e,t,n){"use strict";var c=n("/UYI"),a=n("nQD+"),r=n("Za8o"),o=n("LwEI"),i=n("ERkP"),s=n.n(i);n("NJR1");t.a=function MessageCloseButton(e){var t=e.onClick,n=e.shouldFocus,u=void 0!==n&&n,l=Object(o.a)(),b=Object(i.useRef)(null);Object(r.a)(b,u);return s.a.createElement(a.a,{onClick:function handleOnClick(e){(null===b||void 0===b?void 0:b.current)&&(null===b||void 0===b||b.current.blur()),t(e)},ref:b,className:"drift-widget-message-close-button drift-widget-close-button--align-".concat(l),"aria-label":"Close Drift Widget messenger preview overlay"},s.a.createElement(c.a,{width:10,height:10}))}},dT9Q:function(e,t,n){"use strict";var c=n("s8DI"),a=n("BA/U"),r=n("ab+K"),o=n("7oh4"),i=n("nedb"),s=n("Erxq"),u=n("58kB"),l=n("hEj5"),b=n("IJKc"),f=n("LwEI"),d=n("SsZN"),O=n("vjCh"),j=n("qixE"),g=n("xwTo"),v=n("da4L"),m=n("X9/c"),p=n("g6eD"),E=n("2XY6"),h=n("i9gz"),w=n("RhEL"),k=n("LVcX"),C=n("ERkP"),I=n.n(C),S=n("uDfI"),N=n("vTYT"),y=n("y0on");n("pUpc");t.a=function MessagePreview(){var e=Object(l.a)(),t=Object(c.a)(e,2),n=t[0],_=t[1],D=Object(S.b)(),M=Object(C.useState)(null),T=Object(c.a)(M,2),R=T[0],A=T[1],L=Object(S.c)(function(e){return e.conversations}).activeConversation,P=Object(b.a)(),x=Object(i.a)(),B=Object(S.c)(E.e),U=Object(S.c)(function(e){return e.view.chatOpen}),W=Object(f.a)(),J=Object(u.a)(R?R.authorId:null),K=Object(C.useMemo)(function(){return!(!R||!R.body||U)},[R,U]);Object(C.useEffect)(function setLatestMessageFromConvo(){if(Object(h.a)(P))A(null);else{var e=P.pop()||{};R&&Object(w.a)(e.id,R.id)||A(Object(v.r)(e,100))}},[P]),Object(C.useLayoutEffect)(function updateFrameSize(){if(K){var e=n?n.width:0,t=n?n.height:0,c=e+o.b+40,a=t+36;Object(m.c)(a,c)}},[n,K]);var Z=Object(s.a)(R);if(!K)return null;var H=function dismiss(){R&&(Object(j.c)(L),A({}),Object(m.b)(),X())},X=function dismissPlaybookIfNotInteracted(){if(!Object(g.g)()){var e=Object(k.a)(null,["attributes","playbookId"],x);Object(d.o)(R),Object(O.l)(x.id,e)}},F=function openChat(){if(Object(m.b)(),Z){var e=Object(k.a)(null,["attributes","playbookId"],x);Object(d.n)(R),Object(O.l)(x.id,e)}D(Object(p.e)({chatOpen:!0}))},V=Object(v.c)(R),Y=Object(y.a)(J.recipient.name,V);return B?I.a.createElement("div",{className:"drift-widget-message-preview-wrapper",key:"".concat(R.id,"-preview-box")},I.a.createElement("div",{className:"drift-widget-message-preview drift-widget-message-preview--align-".concat(W)},W===N.a.RIGHT&&I.a.createElement(r.a,{onClick:H}),I.a.createElement("div",{onClick:F,onKeyDown:Object(a.a)(F),className:"drift-widget-message-preview-text drift-widget-message-preview-text--align-".concat(W),"aria-label":"".concat(Y?Y+" - ":"","Click to open chat"),"aria-live":"polite",tabIndex:0,role:"button"},I.a.createElement("span",{ref:_},V)),W===N.a.LEFT&&I.a.createElement(r.a,{onClick:H}))):null}},g3yi:function(e,t,n){"use strict";var c=n("nfbA"),a=n("efbE"),r=n("LeJ0"),o=function getDefaultAuthParams(e){return{org_id:e,client_id:r.a.CLIENT_ID,consent_id:"has_consent"}};n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var i=function executeWidgetBootstrapForMode(e,t,n){switch(e){case"LANDING_PAGE":return l(t,n);case"CHAT":default:return u(t,n)}},s=function executeBootstrapPing(e){return a.c.post("widget_bootstrap/ping",e)},u=function widgetBootstrap(e,t){var n=o(e);return a.b.post("widget_bootstrap",{data:Object(c.a)(Object(c.a)({},n),t)})},l=function landingPageBootstrap(e,t){var n=o(e);return a.b.post("widget_bootstrap/landing_page",{data:Object(c.a)(Object(c.a)({},n),t)})}},pUpc:function(e,t,n){},xAY9:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var c=n("efbE"),a=function getEmbedConfiguration(e){return c.l.get("/embeds/".concat(e,".json"))}},xKh3:function(e,t,n){"use strict";n.d(t,"b",function(){return j}),n.d(t,"a",function(){return g});var c=n("mj2O"),a=n.n(c),r=n("7SM1"),o=n("LeJ0"),i=n("P2Ru"),s=n("7VeV"),u=n("0lfv"),l=n("l+Xe"),b=n("/l56"),f=function logSocketEvent(e){var t=e.message,n=e.socketUrl;Object(u.n)({data:["".concat(t,": ").concat(n)],internal:!0})},d=Object(s.throttle)(6e4,!1,function(e){f({message:"SocketError",socketUrl:e})}),O=Object(s.throttle)(6e4,!1,function(e){f({message:"SocketClosed",socketUrl:e})}),j=function OpenSocket(e){var t=e.session_token,n=e.org_id,c=e.socketCluster,a=e.ip,r=o.a.WS_PROTOCOL,s="LOCAL"===o.a.WS_USER_ENV?"":"".concat(n,"-"),u=v(n,s,c),l="".concat(r,"://").concat(u,"/ws"),b=new i.a(l,{params:{session_token:t,remote_ip:a},timeout:1e4,reconnectAfterMs:function reconnectAfterMs(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},rejoinAfterMs:function rejoinAfterMs(e){return[1e3,2e3,5e3][e-1]||1e4}});return b.connect(),b.onError(function(){return d(l)}),b.onClose(function(){return O(l)}),b},g=function(){var e=Object(r.a)(a.a.mark(function _callee2(e){var t,n,c,o;return a.a.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return t=e.channelName,n=e.socket,c=e.events,o=new Promise(function(){var e=Object(r.a)(a.a.mark(function _callee(e,r){var o;return a.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:o=n.channel(t),c.forEach(function(e){var t=e.topic,n=e.event;o.on(t,n)}),o.join().receive("ok",function(){e({channel:o})}).receive("error",function(e){Object(u.n)({data:["Error connecting to channel: ".concat(t)]}),r(e)}).receive("timeout",function(e){Object(u.n)({data:["Joining the ".concat(t," channel timed out. ")]})});case 3:case"end":return a.stop()}},_callee)}));return function(t,n){return e.apply(this,arguments)}}()),i.abrupt("return",o);case 3:case"end":return i.stop()}},_callee2)}));return function JoinChannel(t){return e.apply(this,arguments)}}(),v=function _resolveSocketBaseForType(e,t,n){switch(n){case b.c.CHAT:return"".concat(Object(l.d)(e));case b.c.USER:return o.a.WS_USER_BASE;case b.c.PRESENCE:return"".concat(t).concat(Object(l.c)(e));case b.c.VISITOR_PRESENCE:return o.a.WS_VISITOR_PRESENCE_BASE;default:return""}}},yXOZ:function(e,t,n){"use strict";var c=n("nfbA"),a=n("s8DI"),r=n("BA/U"),o=n("O94r"),i=n.n(o),s=n("+Kbs"),u=n("yEsl"),l=n("hSLT"),b=n("nedb"),f=n("mZ4K"),d=n("UvQv"),O=n("fL0f"),j=n("Za8o"),g=n("Erxq"),v=n("6wvX"),m=n("tLIi"),p=n("o3t1"),E=n("58kB"),h=n("lE29"),w=n("cwuI"),k=n("IJKc"),C=n("LwEI"),I=n("Hnjx"),S=n("SsZN"),N=n("vjCh"),y=n("g6eD"),_=n("2XY6"),D=n("LVcX"),M=n("0B8E"),T=n("ERkP"),R=n.n(T),A=n("Tr4L"),L=n("uDfI"),P=n("MFhO"),x=n("7oto"),B=n("1kux"),U=n("rTkt"),W=(n("3y+j"),"SENDER"),J="MEGAPHONE",K="THEME_ICON";t.a=function WidgetIcon(){var e=Object(T.useState)(!1),t=Object(a.a)(e,2),n=t[0],o=t[1],Z=Object(T.useRef)(null);Object(j.a)(Z,n);var H=Object(d.a)(),X=H.isDisabled,F=H.setIsDisabled,V=Object(p.a)(),Y=V.hoverProps,z=V.isHovered,G=Object(L.b)(),Q=Object(A.a)().t,q=Object(L.c)(function(e){return e.view.chatOpen}),$=Object(L.c)(function(e){return e.session.gdpr}),ee=Object(L.c)(_.e),te=Object(L.c)(function(e){return!!e.conversations.activeConversation}),ne=Object(C.a)(),ce=Object(b.a)(),ae=Object(L.c)(function(e){return Object(D.a)(!1,["embed","configuration","theme"],e)}).unreadBadgeEnabled,re=Object(k.a)(),oe=Object(L.c)(function(e){return e.view.isChatTakeover}),ie=Object(m.a)(),se=Object(g.a)(ie),ue=Object(h.a)(),le=ue.backgroundStyles,be=ue.widgetSecondaryColor,fe=Object(T.useMemo)(function(){return z?Object(U.c)(le.background,-35):le.background},[z,le]),de=Object(w.a)(),Oe=de.Icon,je=de.customIcon,ge=de.hasCustomIcon,ve=Object(f.a)(),me=Object(l.a)().type,pe=ve||Object(D.a)(void 0,["authorId"],ie),Ee=Object(E.a)(pe).recipient,he=re?Object(M.a)(re).length:0,we=me===P.a.SLIDER,ke=pe&&(we||he>0),Ce=Object(O.a)(["titleNotificationEnabled"]),Ie=Object(a.a)(Ce,1)[0],Se=void 0!==Ie&&Ie,Ne=Object(T.useMemo)(function(){return ke?W:we&&!pe?J:K},[pe,we,ke]),ye=Object(v.a)(),_e=Object(I.a)();Object(T.useEffect)(function(){Se&&Object(x.a)({topic:"page-notification-update",message:{totalUnreadMessages:he,pageTitleNotificationMsg:Q("titleNotifier.newMessageNotification")}})},[he,Se,Q]),Object(T.useEffect)(function(){X&&!we&&F(!1)},[X,we,F]),Object(T.useEffect)(function(){Object(x.a)({topic:"toggle-widget-controller",message:{isChatTakeover:oe,open:q,hasActiveConversation:te&&$.hasConsent}})},[q,$,te,oe]),Object(T.useEffect)(function(){re&&re.length>0&&Object(B.a)()},[re]),Object(T.useEffect)(function(){Object(x.c)({topic:"CONDUCTOR:focusWidgetIcon",handler:function handler(){return o(!0)}})},[]);var De=function onToggleChat(){if(!q&&he>0&&se){var e=Object(D.a)(null,["attributes","playbookId"],ce);Object(N.l)(ce.id,e),Object(S.n)(ie)}!function toggle(e){we?(Object(x.a)({topic:"slider:showDetails",message:{}}),F(!0)):G(Object(y.e)({chatOpen:e})),e&&Object(x.a)({topic:"reset-controller-size"})}(!q)},Me=Object(T.useMemo)(function(){return ke&&!q?null:{background:"".concat(fe)}},[ke,q,fe]),Te=Object(T.useMemo)(function(){return!ge||ke||q?null:z?Object(c.a)({opacity:.65},je):je},[je,ke,q,ge,z]),Re=Object(T.useMemo)(function(){if(q)return Ee.name?"Click to close chat with ".concat(Ee.name," in the Drift Widget messenger"):"Click to close Drift Widget messenger";var e=Ee.name?"Click to open chat with ".concat(Ee.name," in the Drift Widget messenger"):"Click to open Drift Widget messenger";return ae&&he>0?"".concat(e," - Unread messages: ").concat(he):e},[q,ae,Ee.name,he]);return ee?R.a.createElement("div",Object.assign({className:i()("drift-widget-controller drift-widget-controller--align-".concat(ne),[_e],{"drift-widget-controller--closed":!ye&&q,"drift-widget-controller--custom-icon":ge,"drift-widget-controller--avatar":ke,"drift-widget-controller--hide":oe,"drift-widget-controller--disabled":X}),onClick:De,style:Me},Y,{"aria-label":Re,"aria-disabled":X,"aria-hidden":X,role:"button",tabIndex:X?-1:0,onKeyDown:Object(r.a)(De),ref:Z}),R.a.createElement("div",{className:i()("drift-widget-controller-icon",[_e]),style:Te},R.a.createElement("div",{className:"drift-controller-icon--active"},Ne===J&&R.a.createElement(s.n,{fill:be}),Ne===W&&R.a.createElement(u.a,{className:i()([_e],"drift-controller-icon--avatar"),avatarClassName:i()([_e],"drift-controller-icon--avatar-avatar"),id:pe}),Ne===K&&!ge&&Oe),R.a.createElement("div",{className:"drift-controller-icon--close",style:{backgroundColor:be}})),ae&&he>0&&R.a.createElement("div",{className:"drift-controller-icon-unread"},Math.min(he,99))):null}},zoZM:function(e,t,n){}}]);